{
    "sourceFile": "app/Http/Controllers/Main/PegawaiController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 16,
            "patches": [
                {
                    "date": 1704805558146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1704807000995,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n \n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n-            'nip.required' => 'NIP tidak boleh kosong',\n+            'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n     }\n"
                },
                {
                    "date": 1705360404710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,10 +32,9 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validasi = $this->validate(\n-            $request,\n+        $validatedData = $request->validate(\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n                 'nip' => 'required',\n@@ -46,11 +45,14 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n+        $produk = Pegawai::create($validatedData);\n+\n+        // Simpan gambar di direktori storage/app/public/images\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n+            'pokja' => $request->pokja,\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705360498258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,10 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validatedData = $request->validate(\n+        $validasi = $this->validate(\n+            $request,\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n                 'nip' => 'required',\n@@ -45,14 +46,11 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n-        $produk = Pegawai::create($validatedData);\n-\n-        // Simpan gambar di direktori storage/app/public/images\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n-            'pokja' => $request->pokja,\n+            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705363375710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validasi = $this->validate(\n+        $validatedData = $this->validate(\n             $request,\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n@@ -46,12 +46,12 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n-        $produk = Pegawai::create([\n-            'nama' => $request->nama,\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n-            'nip' => $request->nip,\n+        $pegawai = Pegawai::create([\n+            'nama' => $validatedData['nama'],\n+            'pokja' => $validatedData['pokja'],\n+            'nip' => $validatedData['nip'],\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n     }\n"
                },
                {
                    "date": 1705363428563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validatedData = $this->validate(\n+        $validasi = $this->validate(\n             $request,\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n@@ -46,12 +46,12 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n-        $pegawai = Pegawai::create([\n-            'nama' => $validatedData['nama'],\n-            'pokja' => $validatedData['pokja'],\n-            'nip' => $validatedData['nip'],\n+        $produk = Pegawai::create([\n+            'nama' => $request->nama,\n+            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n+            'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n     }\n"
                },
                {
                    "date": 1705363537958,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validasi = $this->validate(\n+        $validatedData = $this->validate(\n             $request,\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n@@ -46,12 +46,12 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n-        $produk = Pegawai::create([\n-            'nama' => $request->nama,\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n-            'nip' => $request->nip,\n+        $pegawai = Pegawai::create([\n+            'nama' => $validatedData['nama'],\n+            'pokja' => $validatedData['pokja'],\n+            'nip' => $validatedData['nip'],\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n     }\n"
                },
                {
                    "date": 1705363732210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n      * Store a newly created resource in storage.\n      */\n     public function store(Request $request)\n     {\n-        $validatedData = $this->validate(\n+        $validasi = $this->validate(\n             $request,\n             [\n                 'nama' => 'required',\n                 'pokja' => 'required',\n@@ -46,12 +46,12 @@\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n \n-        $pegawai = Pegawai::create([\n-            'nama' => $validatedData['nama'],\n-            'pokja' => $validatedData['pokja'],\n-            'nip' => $validatedData['nip'],\n+        $produk = Pegawai::create([\n+            'nama' => $request->nama,\n+            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n+            'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n     }\n"
                },
                {
                    "date": 1705366662654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n                 'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n-\n+        dd(1);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n"
                },
                {
                    "date": 1705366802081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n                 'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n-        dd(1);\n+        dd($request->pokja);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n"
                },
                {
                    "date": 1705368664751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,8 +48,9 @@\n         );\n         dd($request->pokja);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n+            json_encode($request->pokja),\n             'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n"
                },
                {
                    "date": 1705369087983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,8 @@\n         dd($request->pokja);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             json_encode($request->pokja),\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705369118448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,9 @@\n         dd($request->pokja);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             json_encode($request->pokja),\n+            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705370122451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,11 @@\n                 'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n-        dd($request->pokja);\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n             json_encode($request->pokja),\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705370221627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n             ]\n         );\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n-            json_encode($request->pokja),\n+            'pokja' => json_encode($request->pokja),\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705376097914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,11 +45,12 @@\n                 'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n                 'nip.required' => 'NIP tidak boleh kosong',\n             ]\n         );\n+\n         $produk = Pegawai::create([\n             'nama' => $request->nama,\n-            'pokja' => json_encode($request->pokja),\n+            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n             'nip' => $request->nip,\n         ]);\n \n         return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n"
                },
                {
                    "date": 1705840566297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,119 +0,0 @@\n-<?php\n-\n-namespace App\\Http\\Controllers\\Main;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Models\\Pegawai;\n-use Illuminate\\Http\\Request;\n-\n-class PegawaiController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     */\n-    public function index()\n-    {\n-        $data['title'] = 'Data Pegawai';\n-        $user = Pegawai::all();\n-        $data['result'] = $user->sortDesc();\n-        return view('main.pegawai.index', $data);\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     */\n-    public function create()\n-    {\n-        $data['title'] = \"Tambah Data Pegawai\";\n-        return view(\"main.pegawai.create\", $data);\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     */\n-    public function store(Request $request)\n-    {\n-        $validasi = $this->validate(\n-            $request,\n-            [\n-                'nama' => 'required',\n-                'pokja' => 'required',\n-                'nip' => 'required',\n-            ],\n-            [\n-                'nama.required' => 'Nama pegawai tidak boleh kosong',\n-                'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n-                'nip.required' => 'NIP tidak boleh kosong',\n-            ]\n-        );\n-\n-        $produk = Pegawai::create([\n-            'nama' => $request->nama,\n-            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n-            'nip' => $request->nip,\n-        ]);\n-\n-        return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     */\n-    public function show($id)\n-    {\n-        $row = Pegawai::findOrFail($id);\n-        return view('main.pegawai.show', [\n-            'title' => 'Detail Data Pegawai',\n-            'nama' => $row->nama,\n-            'pokja' => $row->pokja,\n-            'nip' => $row->nip,\n-        ]);\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     */\n-    public function edit(Request $request, $id)\n-    {\n-\n-        $row = Pegawai::findOrFail($id);\n-\n-        return view('main.pegawai.edit', [\n-            'title' => 'Edit Data Pegawai',\n-            'id' => $row->id,\n-            'nama' => $row->nama,\n-            'pokja' => $row->pokja,\n-            'nip' => $row->nip,\n-        ]);\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     */\n-    public function update(Request $request, string $id)\n-    {\n-        // Ambil data produk berdasarkan ID\n-        $row = Pegawai::find($id);\n-        if ($row) {\n-            $row->nama = $request->nama;\n-            $row->pokja = $request->pokja;\n-            $row->nip = $request->nip;\n-\n-\n-            // Simpan perubahan\n-            $row->save();\n-\n-            return redirect('main/pegawai')->with('success', 'Data berhasil diubah');\n-        }\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     */\n-    public function destroy(string $id)\n-    {\n-        $pegawai = Pegawai::findOrFail($id);\n-        $pegawai->delete();\n-        return back()->with('hapus', 'Data sudah di Hapus!');\n-    }\n-}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1704805558146,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers\\Main;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Models\\Pegawai;\nuse Illuminate\\Http\\Request;\n\nclass PegawaiController extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     */\n    public function index()\n    {\n        $data['title'] = 'Data Pegawai';\n        $user = Pegawai::all();\n        $data['result'] = $user->sortDesc();\n        return view('main.pegawai.index', $data);\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     */\n    public function create()\n    {\n        $data['title'] = \"Tambah Data Pegawai\";\n        return view(\"main.pegawai.create\", $data);\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(Request $request)\n    {\n        $validasi = $this->validate(\n            $request,\n            [\n                'nama' => 'required',\n                'pokja' => 'required',\n                'nip' => 'required',\n            ],\n            [\n                'nama.required' => 'Nama pegawai tidak boleh kosong',\n                'pokja.required' => 'Kelompok Kerja tidak boleh kosong',\n                'nip.required' => 'NIP tidak boleh kosong',\n            ]\n        );\n\n        $produk = Pegawai::create([\n            'nama' => $request->nama,\n            'pokja' => $request->pokja,  // Simpan gambar di direktori storage/app/public/images\n            'nip.required' => 'NIP tidak boleh kosong',\n        ]);\n\n        return redirect('main/pegawai')->with('success', 'Data berhasil disimpan!');\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show($id)\n    {\n        $row = Pegawai::findOrFail($id);\n        return view('main.pegawai.show', [\n            'title' => 'Detail Data Pegawai',\n            'nama' => $row->nama,\n            'pokja' => $row->pokja,\n            'nip' => $row->nip,\n        ]);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     */\n    public function edit(Request $request, $id)\n    {\n\n        $row = Pegawai::findOrFail($id);\n\n        return view('main.pegawai.edit', [\n            'title' => 'Edit Data Pegawai',\n            'id' => $row->id,\n            'nama' => $row->nama,\n            'pokja' => $row->pokja,\n            'nip' => $row->nip,\n        ]);\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(Request $request, string $id)\n    {\n        // Ambil data produk berdasarkan ID\n        $row = Pegawai::find($id);\n        if ($row) {\n            $row->nama = $request->nama;\n            $row->pokja = $request->pokja;\n            $row->nip = $request->nip;\n\n\n            // Simpan perubahan\n            $row->save();\n\n            return redirect('main/pegawai')->with('success', 'Data berhasil diubah');\n        }\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(string $id)\n    {\n        $pegawai = Pegawai::findOrFail($id);\n        $pegawai->delete();\n        return back()->with('hapus', 'Data sudah di Hapus!');\n    }\n}\n"
        }
    ]
}