{
    "sourceFile": "app/Http/Controllers/Main/KendaraanController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1704787930736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1704787930736,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers\\Main;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Models\\Kendaraan;\nuse Illuminate\\Http\\Request;\n\nclass KendaraanController extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     */\n    public function index()\n    {\n        $data['title'] = 'Data Kendaraan';\n        $user = Kendaraan::all();\n        $data['result'] = $user->sortDesc();\n        return view('main.kendaraan.index', $data);\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     */\n    public function create()\n    {\n        $data['title'] = \"Tambah Data Kendaraan\";\n        return view(\"main.kendaraan.create\", $data);\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(Request $request)\n    {\n        $validasi = $this->validate(\n            $request,\n            [\n                'jenis' => 'required',\n                'nopol' => 'required',\n                'tipe' => 'required',\n                'warna' => 'required',\n                'tahun' => 'required',\n            ],\n            [\n                'jenis.required' => 'jenis produk tidak boleh kosong',\n                'nopol.required' => 'nopol produk tidak boleh kosong',\n                'tipe.required' => 'tipe produk tidak boleh kosong',\n                'warna.required' => 'warna produk tidak boleh kosong',\n                'tahun.required' => 'tahun produk tidak boleh kosong',\n            ]\n        );\n\n        $produk = Kendaraan::create([\n            'jenis' => $request->jenis,\n            'nopol' => $request->nopol,\n            'tipe' => $request->tipe,\n            'warna' => $request->warna,\n            'tahun' => $request->tahun, // Simpan gambar di direktori storage/app/public/images\n        ]);\n\n        return redirect('main/kendaraan')->with('success', 'Data berhasil disimpan!');\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show($id)\n    {\n        $row = Kendaraan::findOrFail($id);\n        return view('main.kendaraan.show', [\n            'title' => 'Detail Data Kendaraan',\n            'jenis' => $row->jenis,\n            'nopol' => $row->nopol,\n            'tipe' => $row->tipe,\n            'warna' => $row->warna,\n            'tahun' => $row->tahun,\n        ]);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     */\n    public function edit(Request $request, $id)\n    {\n\n        $row = Kendaraan::findOrFail($id);\n\n        return view('main.kendaraan.edit', [\n            'title' => 'Edit Data Kendaraan',\n            'id' => $row->id,\n            'jenis' => $row->jenis,\n            'nopol' => $row->nopol,\n            'tipe' => $row->tipe,\n            'warna' => $row->warna,\n            'tahun' => $row->tahun,\n        ]);\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(Request $request, string $id)\n    {\n        // Ambil data produk berdasarkan ID\n        $row = Kendaraan::find($id);\n        if ($row) {\n            $row->jenis = $request->jenis;\n            $row->nopol = $request->nopol;\n            $row->tipe = $request->tipe;\n            $row->warna = $request->warna;\n            $row->tahun = $request->tahun;\n\n\n            // Simpan perubahan\n            $row->save();\n\n            return redirect('main/kendaraan')->with('success', 'Data berhasil diubah');\n        }\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(string $id)\n    {\n        $kendaraan = Kendaraan::findOrFail($id);\n        $kendaraan->delete();\n        return back()->with('hapus', 'Data sudah di Hapus!');\n    }\n}\n"
        }
    ]
}